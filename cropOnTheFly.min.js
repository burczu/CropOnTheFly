/*!
 * Crop Images On The Fly
 *
 * Copyright (c) 2014 Bart≈Çomiej Dybowski
 * Dual licensed under the MIT and GPL licenses.
 * Uses the same license as jQuery, see:
 * http://docs.jquery.com/License
 *
 * @version 1.0.0
 */

(function(e){function t(t){e(t).wrap(function(){var t=e(this).parent(".cropContainer");if(t.length===0){return'<div class="cropContainer"></div>'}return false});return e(t).parent(".cropContainer")}function n(t,n,r){var i;switch(r){case"center":i=-1*((t-n)/2);break;case"bottom":case"right":i=-1*(t-n);break;case"top":case"left":i=0;break;default:if(e.isNumeric(r)==true){i=r*-1}else{i=0}break}return i}function r(e,t){var n=t;if(n===null){n=e}if(e<n){n=e}return n}function i(i,s){var o={};o.height=r(i.height,s.height);o.width=r(i.width,s.width);o.top=n(i.height,o.height,s.verticalPosition);o.left=n(i.width,o.width,s.horizontalPosition);o.parent=t(i);o.element=i;e(o.parent).css("overflow","hidden").css("height",o.height+"px").css("width",o.width+"px");e(i).css("position","relative").css("margin","0px").css("top",o.top+"px").css("left",o.left+"px");s.afterCrop(o)}e.fn.cropOnTheFly=function(t){var n=e.extend({},e.fn.cropOnTheFly.settings,t);return this.each(function(){var t=this;e(window).on("load resize",function(){i(t,n)})})};e.fn.cropOnTheFly.settings={height:null,width:null,verticalPosition:"top",horizontalPosition:"left",afterCrop:function(e){}}})(jQuery)